{"ast":null,"code":"import React from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InitialPage=()=>{const handleSpotifyLogin=()=>{// Environment variables for Spotify API credentials\nconst client_id=process.env.REACT_APP_SPOTIFY_CLIENT_ID;const redirect_uri=process.env.REACT_APP_SPOTIFY_REDIRECT_URI;const stateKey=\"spotify_auth_state\";const state=generateRandomString(16);const scope=\"user-read-private user-read-email\";sessionStorage.setItem(stateKey,state);const authUrl=`https://accounts.spotify.com/authorize?${new URLSearchParams({response_type:\"code\",client_id,scope,redirect_uri,state}).toString()}`;window.location.href=authUrl;// Redirect to Spotify login\n};const generateRandomString=length=>{let text=\"\";const possible=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";for(let i=0;i<length;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length));}return text;};console.log(process.env.REACT_APP_SPOTIFY_REDIRECT_URI);return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Display your playlists!\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"In order to see your playlists, you need to click the button below.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"spotify-btn\",onClick:handleSpotifyLogin,children:\"Log in with Spotify\"})]});};export default InitialPage;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","InitialPage","handleSpotifyLogin","client_id","process","env","REACT_APP_SPOTIFY_CLIENT_ID","redirect_uri","REACT_APP_SPOTIFY_REDIRECT_URI","stateKey","state","generateRandomString","scope","sessionStorage","setItem","authUrl","URLSearchParams","response_type","toString","window","location","href","length","text","possible","i","charAt","Math","floor","random","console","log","className","children","onClick"],"sources":["/Users/godfather/Desktop/TUS School Stuff/spotify_web_api_project/frontend/src/components/InitialPage.tsx"],"sourcesContent":["import React from \"react\";\n\nconst InitialPage: React.FC = () => {\n  const handleSpotifyLogin = () => {\n    // Environment variables for Spotify API credentials\n    const client_id: string = process.env.REACT_APP_SPOTIFY_CLIENT_ID as string;\n    const redirect_uri: string = process.env\n      .REACT_APP_SPOTIFY_REDIRECT_URI as string;\n    const stateKey: string = \"spotify_auth_state\";\n    const state: string = generateRandomString(16);\n    const scope: string = \"user-read-private user-read-email\";\n\n    sessionStorage.setItem(stateKey, state);\n\n    const authUrl = `https://accounts.spotify.com/authorize?${new URLSearchParams(\n      {\n        response_type: \"code\",\n        client_id,\n        scope,\n        redirect_uri,\n        state,\n      }\n    ).toString()}`;\n\n    window.location.href = authUrl; // Redirect to Spotify login\n  };\n\n  const generateRandomString = (length: number): string => {\n    let text = \"\";\n    const possible =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (let i = 0; i < length; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n  };\n  console.log(process.env.REACT_APP_SPOTIFY_REDIRECT_URI);\n  return (\n    <div className=\"main-container\">\n      <h1>Display your playlists!</h1>\n      <h2>\n        In order to see your playlists, you need to click the button below.\n      </h2>\n      <button className=\"spotify-btn\" onClick={handleSpotifyLogin}>\n        Log in with Spotify\n      </button>\n    </div>\n  );\n};\n\nexport default InitialPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B;AACA,KAAM,CAAAC,SAAiB,CAAGC,OAAO,CAACC,GAAG,CAACC,2BAAqC,CAC3E,KAAM,CAAAC,YAAoB,CAAGH,OAAO,CAACC,GAAG,CACrCG,8BAAwC,CAC3C,KAAM,CAAAC,QAAgB,CAAG,oBAAoB,CAC7C,KAAM,CAAAC,KAAa,CAAGC,oBAAoB,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAAC,KAAa,CAAG,mCAAmC,CAEzDC,cAAc,CAACC,OAAO,CAACL,QAAQ,CAAEC,KAAK,CAAC,CAEvC,KAAM,CAAAK,OAAO,CAAG,0CAA0C,GAAI,CAAAC,eAAe,CAC3E,CACEC,aAAa,CAAE,MAAM,CACrBd,SAAS,CACTS,KAAK,CACLL,YAAY,CACZG,KACF,CACF,CAAC,CAACQ,QAAQ,CAAC,CAAC,EAAE,CAEdC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGN,OAAO,CAAE;AAClC,CAAC,CAED,KAAM,CAAAJ,oBAAoB,CAAIW,MAAc,EAAa,CACvD,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,KAAM,CAAAC,QAAQ,CACZ,gEAAgE,CAClE,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGH,MAAM,CAAEG,CAAC,EAAE,CAAE,CAC/BF,IAAI,EAAIC,QAAQ,CAACE,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGL,QAAQ,CAACF,MAAM,CAAC,CAAC,CACtE,CACA,MAAO,CAAAC,IAAI,CACb,CAAC,CACDO,OAAO,CAACC,GAAG,CAAC3B,OAAO,CAACC,GAAG,CAACG,8BAA8B,CAAC,CACvD,mBACER,KAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnC,IAAA,OAAAmC,QAAA,CAAI,yBAAuB,CAAI,CAAC,cAChCnC,IAAA,OAAAmC,QAAA,CAAI,qEAEJ,CAAI,CAAC,cACLnC,IAAA,WAAQkC,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEhC,kBAAmB,CAAA+B,QAAA,CAAC,qBAE7D,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}